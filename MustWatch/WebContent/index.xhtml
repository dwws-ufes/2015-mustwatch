<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                template="/resources/decorator.xhtml">

    <ui:define name="title"><h:outputText value="#{msgs['title.home']}" /></ui:define>
    
    <ui:define name="submenu">
    <div id="sub-navigation">
		<ul>
		    <li><a href="/MustWatch/index.faces">ALL MOVIES</a></li>
		</ul>
		<div class="cl">&nbsp;</div>
	</div>
	<!-- end Sub-Menu -->
        
    </ui:define>

    <ui:define name="body">
    
    	<f:event type="preRenderView" listener="#{manageMoviesController.init}" />
        <!-- Main -->
	<div id="main">
	
		<h:form id="movielist" rendered="#{manageMoviesController.movies != null}">
		<!-- Content -->
		<div id="content">
		
			<!-- Box -->
			<div class="box">
				<br />
				<br />
				<ui:repeat var="movie" value="#{manageMoviesController.movies}" varStatus="status">
	
					<!-- Movie -->
					<div class="#{manageMoviesController.movieStatus(status.index)}">
						<div class="movie-image">
						<h:link id="testId" outcome="Movie/details.faces">
						    <f:param name="id" value="#{movie.id}"/>
						
							<span class="play"><span class="name">#{movie.original_title}</span></span>
							<p:graphicImage value="resources/css/images/#{movie.image}" alt="movie"></p:graphicImage>
		
						</h:link>
						</div>
						<div class="rating">
							<p>RATING</p>
							<div class="stars">
								<div class="stars-in">
									
								</div>
							</div>
							<span class="comments">0</span>
						</div>
					</div>
					<!-- end Movie -->
					
				</ui:repeat>
			
			
				<div class="cl">&nbsp;</div>
			</div>
			<!-- end Box -->
		<div class="cl">&nbsp;</div>
		</div>
		</h:form>
		
		<h:form id="nomovie" rendered="#{manageMoviesController.movies == null}">
			<!-- Content -->
			<div id="content">
				<br />
				<br />
					<h:outputText value="No Movies Found!" />
				<br />
				<br />
				<div class="cl">&nbsp;</div>
			</div>
		</h:form>
		
		
	</div>
	<!-- end Main -->
    </ui:define>
</ui:composition>